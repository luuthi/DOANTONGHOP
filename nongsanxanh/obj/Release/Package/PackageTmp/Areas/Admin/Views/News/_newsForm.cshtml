@using NSX_Common
@model Bussiness.ViewModel.NewsViewModel
<div class="row" style="margin-bottom:5px; margin-right:0px;">
    @Html.ActionLink("Quay lại", "Index", "News", null, new { @class = "btn btn-default", @style = "float:right; margin-right: 20px; margin-top: 10px" })
</div>
<div class="box-body">
    <div class="row">
        <div class="col-md-6 col-sm-6 col-xs-12">
            <div class="form-group">
                @Html.LabelFor(m => m.Title)
                @Html.TextBoxFor(m => m.Title, new { @class = "form-control" })
                @Html.ValidationMessageFor(m => m.Title)
            </div>
            <div class="form-group pass">
                @Html.LabelFor(m => m.Description)
                @Html.TextAreaFor(m => m.Description, new {@class = "form-control", rows = "8" })
                @Html.ValidationMessageFor(m => m.Description)
            </div>

            <div class="form-group">
                @Html.LabelFor(m => m.Order)
                @Html.TextBoxFor(m => m.Order, new {@class = "form-control"})
                @Html.ValidationMessageFor(m => m.Order)
            </div>
            <div class="form-group">
                @Html.LabelFor(m => m.CanComment)
                @Html.RadioButtonFor(m => m.CanComment, true, new { @class = "flat-red", @id = "rd_active" }) :Có
                @Html.RadioButtonFor(m => m.CanComment, false, new { @class = "flat-red", @id = "rd_disable" }):Không
            </div>
            <div class="form-group">
                @Html.LabelFor(m => m.Category)
                @Html.DropDownListFor(m=>m.EnumCategory,ViewData["EnumCategory"] as SelectList,new {@class="form-control select2",@multiple="multiple"})
            </div>
            <div class="form-group">
                @Html.LabelFor(m => m.Status)
                @Html.RadioButtonFor(m => m.Status, true, new { @class = "flat-red", @id = "rd_active" }) :Hoạt động
                @Html.RadioButtonFor(m => m.Status, false, new { @class = "flat-red", @id = "rd_disable" }):Vô hiệu hóa
            </div>
        </div>
        <div class="col-md-6 col-sm-6 col-xs-12">
            <div class="form-group">
                @Html.LabelFor(m => m.GroupId)
                @Html.DropDownListFor(m => m.GroupId, ViewData["GroupId"] as SelectList, new { @class = "form-control select2" })
                @Html.ValidationMessageFor(m => m.GroupId)
            </div>
           
            <div class="form-group text-center">
                @Html.TextBoxFor(m => m.Image, new { @class = "hide" })
                <img src="~/Images/images/tin-tuc/@Model.Image" class="img-responsive  " id="Image1" width="450" height="300" />
                <br />
                <label class="p" for="filePosted" style="text-decoration: underline; cursor: pointer">Tải ảnh lên...</label>
                <input type="file" id="filePosted" name="filePosted" accept="image/gif, image/jpeg, image/png" class="hide" onchange="readUrl(this);" />
            </div>
        </div>
        <div class="col-md-12 col-sm-12 col-xs-12 pull-left">
            
            <div class="form-group">
                <label>Thông tin sản phẩm</label>
                @Html.TextAreaFor(m => m.Content, new {@class = "form-control"})
                <script type="text/javascript">
                    function createEditor(languageCode, id) {
                        CKEDITOR.replace(id,
                        {
                            language: languageCode
                        });
                    }

                    $(function() {
                        createEditor('vi', 'Content');
                    });
                </script>
            </div>

        </div>
    </div>
    <div class="row" style="float: right; padding-right: 20px">
        <button type="submit" class="btn btn-primary submit_add_post ">Ghi lại</button>
    </div>
    <!-- /.panel-body -->
</div>
<script>

    //ckeditor
    CKEDITOR.replace('editor1');
    function readUrl(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#Image1')
                    .attr('src', e.target.result)
                    .width(450)
                    .height(300);
            };

            reader.readAsDataURL(input.files[0]);
        }
    }
   
</script>
